const ArrayListProductss = [
    {
        img: "./image/selling-products.webp",
        name: "Laptop LG Gram 2023 14Z90R GAH53A5",
        thuonghieu: "LG",
        phanloai: "gaming",
        cpu: "Intel Core i7",
        vga: "RTX 3070",
        ram: "16 GB",
        ssd: "256 GB",
        lcd: "14 inch FHD+ IPS",
        pricecompare: "32.490.000₫",
        pricehighlight: "25490000",
        labelonsale: "-21%"
    },
    {
        img: "./image/selling-products.webp",
        name: "Laptop ASUS Gram 2023 14Z90R GAH53A5",
        thuonghieu: "ASUS",
        phanloai: "gaming",
        cpu: "Intel Core i7",
        vga: "RTX 3070",
        ram: "16 GB",
        ssd: "256 GB",
        lcd: "14 inch FHD+ IPS",
        pricecompare: "32.490.000₫",
        pricehighlight: "5490000",
        labelonsale: "-21%"
    },
    {
        img: "./image/selling-products.webp",
        name: "Laptop DELL Gram 2023 14Z90R GAH53A5",
        thuonghieu: "DELL",
        phanloai: "vanphong",
        cpu: "Intel Core i5",
        vga: "RTX 3050",
        ram: "16 GB",
        ssd: "256 GB",
        lcd: "14 inch FHD+ IPS",
        pricecompare: "32.490.000₫",
        pricehighlight: "25490000",
        labelonsale: "-21%"
    },
    {
        img: "./image/selling-products.webp",
        name: "Laptop HP Gram 2023 14Z90R GAH53A5",
        thuonghieu: "HP",
        phanloai: "vanphong",
        cpu: "Intel Core i5",
        vga: "RTX 3060",
        ram: "16 GB",
        ssd: "256 GB",
        lcd: "14 inch FHD+ IPS",
        pricecompare: "32.490.000₫",
        pricehighlight: "25490000",
        labelonsale: "-21%"
    },
    {
        img: "./image/selling-products.webp",
        name: "Laptop APPLE Gram 2023 14Z90R GAH53A5",
        thuonghieu: "APPLE",
        phanloai: "doanhnhan",
        cpu: "Xeon",
        vga: "RTX 3070",
        ram: "16 GB",
        ssd: "256 GB",
        lcd: "14 inch FHD+ IPS",
        pricecompare: "32.490.000₫",
        pricehighlight: "25490000",
        labelonsale: "-21%"
    },
    {
        img: "./image/selling-products.webp",
        name: "Laptop VIVOZENBOOK Gram 2023 14Z90R GAH53A5",
        thuonghieu: "VIVOZENBOOK",
        phanloai: "dohoa",
        cpu: "Intel Core i7",
        vga: "RTX 3070 Ti",
        ram: "16 GB",
        ssd: "256 GB",
        lcd: "14 inch FHD+ IPS",
        pricecompare: "32.490.000₫",
        pricehighlight: "25490000",
        labelonsale: "-21%"
    },
    {
        img: "./image/selling-products.webp",
        name: "Laptop GIGABYTE Gram 2023 14Z90R GAH53A5",
        thuonghieu: "GIGABYTE",
        phanloai: "dohoa",
        cpu: "Intel Core i5",
        vga: "RTX 3060",
        ram: "16 GB",
        ssd: "256 GB",
        lcd: "14 inch FHD+ IPS",
        pricecompare: "32.490.000₫",
        pricehighlight: "5490000",
        labelonsale: "-21%"
    },
    {
        img: "./image/selling-products.webp",
        name: "Laptop LG Gram 2022 ",
        thuonghieu: "LG",
        phanloai: "gaming",
        cpu: "Intel Core i5",
        vga: "RTX 3050",
        ram: "16 GB",
        ssd: "256 GB",
        lcd: "14 inch FHD+ IPS",
        pricecompare: "32.490.000₫",
        pricehighlight: "25490000",
        labelonsale: "-21%"
    },
    {
        img: "./image/selling-products.webp",
        name: "Laptop ACER Gram 2023 14Z90R GAH53A5",
        thuonghieu: "ACER",
        phanloai: "gaming",
        cpu: "Intel Core i9",
        vga: "RTX 4060",
        ram: "16 GB",
        ssd: "256 GB",
        lcd: "14 inch FHD+ IPS",
        pricecompare: "32.490.000₫",
        pricehighlight: "25490000",
        labelonsale: "-21%"
    },
    {
        img: "./image/selling-products.webp",
        name: "Laptop ASUS TUF DASH Gram 2023 14Z90R GAH53A5",
        thuonghieu: "ASUS",
        phanloai: "gaming",
        cpu: "Intel Core i9",
        vga: "RTX 4080",
        ram: "16 GB",
        ssd: "256 GB",
        lcd: "14 inch FHD+ IPS",
        pricecompare: "32.490.000₫",
        pricehighlight: "25490000",
        labelonsale: "-21%"
    },
    {
        img: "./image/selling-products.webp",
        name: "Laptop LG Gram 2023 14Z90R GAH53A5",
        thuonghieu: "LG",
        phanloai: "dohoa",
        cpu: "Intel Core i5",
        vga: "RTX 3070 Ti",
        ram: "16 GB",
        ssd: "256 GB",
        lcd: "14 inch FHD+ IPS",
        pricecompare: "32.490.000₫",
        pricehighlight: "2490000",
        labelonsale: "-21%"
    },
    {
        img: "./image/selling-products.webp",
        name: "Laptop LG Gram 2023 14Z90R GAH53A5",
        thuonghieu: "LG",
        phanloai: "dohoa",
        cpu: "ADM Ryzen 5",
        vga: "RTX 3080",
        ram: "16 GB",
        ssd: "256 GB",
        lcd: "14 inch FHD+ IPS",
        pricecompare: "32.490.000₫",
        pricehighlight: "9490000",
        labelonsale: "-21%"
    },
    {
        img: "./image/selling-products.webp",
        name: "Laptop ASUS Gram 2023 14Z90R GAH53A5",
        thuonghieu: "ASUS",
        phanloai: "gaming",
        cpu: "Intel Core i7",
        vga: "RTX 3080",
        ram: "16 GB",
        ssd: "256 GB",
        lcd: "14 inch FHD+ IPS",
        pricecompare: "32.490.000₫",
        pricehighlight: "35490000",
        labelonsale: "-21%"
    },
    {
        img: "./image/selling-products.webp",
        name: "Laptop DELL Gram 2023 14Z90R GAH53A5",
        thuonghieu: "DELL",
        phanloai: "vanphong",
        cpu: "ADM Ryzen 5",
        vga: "RTX 3050 Ti",
        ram: "16 GB",
        ssd: "256 GB",
        lcd: "14 inch FHD+ IPS",
        pricecompare: "32.490.000₫",
        pricehighlight: "15490000",
        labelonsale: "-21%"
    },
    {
        img: "./image/selling-products.webp",
        name: "Laptop HP Gram 2023 14Z90R GAH53A5",
        thuonghieu: "HP",
        phanloai: "vanphong",
        cpu: "ADM Ryzen 7",
        vga: "RTX 3070 Ti",
        ram: "16 GB",
        ssd: "256 GB",
        lcd: "14 inch FHD+ IPS",
        pricecompare: "32.490.000₫",
        pricehighlight: "45490000",
        labelonsale: "-21%"
    },
    {
        img: "./image/selling-products.webp",
        name: "Laptop APPLE Gram 2023 14Z90R GAH53A5",
        thuonghieu: "APPLE",
        phanloai: "doanhnhan",
        cpu: "Xeon",
        vga: "RTX 3070",
        ram: "16 GB",
        ssd: "256 GB",
        lcd: "14 inch FHD+ IPS",
        pricecompare: "32.490.000₫",
        pricehighlight: "17490000",
        labelonsale: "-21%"
    },
    {
        img: "./image/selling-products.webp",
        name: "Laptop LG Gram 2023 14Z90R GAH53A5",
        thuonghieu: "LG",
        phanloai: "dohoa",
        cpu: "Intel Core i7",
        vga: "RTX 3070",
        ram: "16 GB",
        ssd: "256 GB",
        lcd: "14 inch FHD+ IPS",
        pricecompare: "32.490.000₫",
        pricehighlight: "25490000",
        labelonsale: "-21%"
    },
    {
        img: "./image/selling-products.webp",
        name: "Laptop ASUS Gram 2023 14Z90R GAH53A5",
        thuonghieu: "ASUS",
        phanloai: "gaming",
        cpu: "Intel Core i7",
        vga: "RTX 3070",
        ram: "16 GB",
        ssd: "256 GB",
        lcd: "14 inch FHD+ IPS",
        pricecompare: "32.490.000₫",
        pricehighlight: "5490000",
        labelonsale: "-21%"
    },
    {
        img: "./image/selling-products.webp",
        name: "Laptop DELL Gram 2023 14Z90R GAH53A5",
        thuonghieu: "DELL",
        phanloai: "vanphong",
        cpu: "Intel Core i5",
        vga: "RTX 3050",
        ram: "16 GB",
        ssd: "256 GB",
        lcd: "14 inch FHD+ IPS",
        pricecompare: "32.490.000₫",
        pricehighlight: "25490000",
        labelonsale: "-21%"
    },
    {
        img: "./image/selling-products.webp",
        name: "Laptop HP Gram 2023 14Z90R GAH53A5",
        thuonghieu: "HP",
        phanloai: "vanphong",
        cpu: "Intel Core i5",
        vga: "RTX 3060",
        ram: "16 GB",
        ssd: "256 GB",
        lcd: "14 inch FHD+ IPS",
        pricecompare: "32.490.000₫",
        pricehighlight: "25490000",
        labelonsale: "-21%"
    },
    {
        img: "./image/selling-products.webp",
        name: "Laptop APPLE Gram 2023 14Z90R GAH53A5",
        thuonghieu: "APPLE",
        phanloai: "doanhnhan",
        cpu: "Xeon",
        vga: "RTX 3070",
        ram: "16 GB",
        ssd: "256 GB",
        lcd: "14 inch FHD+ IPS",
        pricecompare: "32.490.000₫",
        pricehighlight: "25490000",
        labelonsale: "-21%"
    },
    {
        img: "./image/selling-products.webp",
        name: "Laptop VIVOZENBOOK Gram 2023 14Z90R GAH53A5",
        thuonghieu: "VIVOZENBOOK",
        phanloai: "dohoa",
        cpu: "Intel Core i7",
        vga: "RTX 3070 Ti",
        ram: "16 GB",
        ssd: "256 GB",
        lcd: "14 inch FHD+ IPS",
        pricecompare: "32.490.000₫",
        pricehighlight: "25490000",
        labelonsale: "-21%"
    },
    {
        img: "./image/selling-products.webp",
        name: "Laptop LG Gram 2023 14Z90R GAH53A5",
        thuonghieu: "LG",
        phanloai: "dohoa",
        cpu: "Intel Core i7",
        vga: "RTX 3070",
        ram: "16 GB",
        ssd: "256 GB",
        lcd: "14 inch FHD+ IPS",
        pricecompare: "32.490.000₫",
        pricehighlight: "25490000",
        labelonsale: "-21%"
    },
    {
        img: "./image/selling-products.webp",
        name: "Laptop ASUS Gram 2023 14Z90R GAH53A5",
        thuonghieu: "ASUS",
        phanloai: "gaming",
        cpu: "Intel Core i7",
        vga: "RTX 3070",
        ram: "16 GB",
        ssd: "256 GB",
        lcd: "14 inch FHD+ IPS",
        pricecompare: "32.490.000₫",
        pricehighlight: "5490000",
        labelonsale: "-21%"
    },
    {
        img: "./image/selling-products.webp",
        name: "Laptop DELL Gram 2023 14Z90R GAH53A5",
        thuonghieu: "DELL",
        phanloai: "vanphong",
        cpu: "Intel Core i5",
        vga: "RTX 3050",
        ram: "16 GB",
        ssd: "256 GB",
        lcd: "14 inch FHD+ IPS",
        pricecompare: "32.490.000₫",
        pricehighlight: "25490000",
        labelonsale: "-21%"
    },
    {
        img: "./image/selling-products.webp",
        name: "Laptop HP Gram 2023 14Z90R GAH53A5",
        thuonghieu: "HP",
        phanloai: "vanphong",
        cpu: "Intel Core i5",
        vga: "RTX 3060",
        ram: "16 GB",
        ssd: "256 GB",
        lcd: "14 inch FHD+ IPS",
        pricecompare: "32.490.000₫",
        pricehighlight: "25490000",
        labelonsale: "-21%"
    },
    {
        img: "./image/selling-products.webp",
        name: "Laptop APPLE Gram 2023 14Z90R GAH53A5",
        thuonghieu: "APPLE",
        phanloai: "doanhnhan",
        cpu: "Xeon",
        vga: "RTX 3070",
        ram: "16 GB",
        ssd: "256 GB",
        lcd: "14 inch FHD+ IPS",
        pricecompare: "32.490.000₫",
        pricehighlight: "25490000",
        labelonsale: "-21%"
    },
    {
        img: "./image/selling-products.webp",
        name: "Laptop VIVOZENBOOK Gram 2023 14Z90R GAH53A5",
        thuonghieu: "VIVOZENBOOK",
        phanloai: "dohoa",
        cpu: "Intel Core i7",
        vga: "RTX 3070 Ti",
        ram: "16 GB",
        ssd: "256 GB",
        lcd: "14 inch FHD+ IPS",
        pricecompare: "32.490.000₫",
        pricehighlight: "25490000",
        labelonsale: "-21%"
    },
    {
        img: "./image/selling-products.webp",
        name: "Laptop GIGABYTE Gram 2023 14Z90R GAH53A5",
        thuonghieu: "GIGABYTE",
        phanloai: "other",
        cpu: "Intel Core i5",
        vga: "RTX 3060",
        ram: "16 GB",
        ssd: "256 GB",
        lcd: "14 inch FHD+ IPS",
        pricecompare: "32.490.000₫",
        pricehighlight: "5490000",
        labelonsale: "-21%"
    },
    {
        img: "./image/selling-products.webp",
        name: "Laptop LG Gram 2022 ",
        thuonghieu: "LG",
        phanloai: "other",
        cpu: "Intel Core i5",
        vga: "RTX 3050",
        ram: "16 GB",
        ssd: "256 GB",
        lcd: "14 inch FHD+ IPS",
        pricecompare: "32.490.000₫",
        pricehighlight: "25490000",
        labelonsale: "-21%"
    },
    {
        img: "./image/selling-products.webp",
        name: "Laptop ACER Gram 2023 14Z90R GAH53A5",
        thuonghieu: "ACER",
        phanloai: "new99",
        cpu: "Intel Core i9",
        vga: "RTX 4060",
        ram: "16 GB",
        ssd: "256 GB",
        lcd: "14 inch FHD+ IPS",
        pricecompare: "32.490.000₫",
        pricehighlight: "25490000",
        labelonsale: "-21%"
    },
    {
        img: "./image/selling-products.webp",
        name: "Laptop ASUS TUF DASH Gram 2023 14Z90R GAH53A5",
        thuonghieu: "ASUS",
        phanloai: "oldgaming",
        cpu: "Intel Core i9",
        vga: "RTX 4080",
        ram: "16 GB",
        ssd: "256 GB",
        lcd: "14 inch FHD+ IPS",
        pricecompare: "32.490.000₫",
        pricehighlight: "25490000",
        labelonsale: "-21%"
    },
    {
        img: "./image/selling-products.webp",
        name: "Laptop LG Gram 2023 14Z90R GAH53A5",
        thuonghieu: "LG",
        phanloai: "oldvanphong",
        cpu: "Intel Core i5",
        vga: "RTX 3070 Ti",
        ram: "16 GB",
        ssd: "256 GB",
        lcd: "14 inch FHD+ IPS",
        pricecompare: "32.490.000₫",
        pricehighlight: "2490000",
        labelonsale: "-21%"
    },
    {
        img: "./image/selling-products.webp",
        name: "Laptop LG Gram 2023 14Z90R GAH53A5",
        thuonghieu: "LG",
        phanloai: "new99",
        cpu: "ADM Ryzen 5",
        vga: "RTX 3080",
        ram: "16 GB",
        ssd: "256 GB",
        lcd: "14 inch FHD+ IPS",
        pricecompare: "32.490.000₫",
        pricehighlight: "9490000",
        labelonsale: "-21%"
    },
    {
        img: "./image/selling-products.webp",
        name: "Laptop GIGABYTE Gram 2023 14Z90R GAH53A5",
        thuonghieu: "GIGABYTE",
        phanloai: "oldgaming",
        cpu: "Intel Core i5",
        vga: "RTX 3060",
        ram: "16 GB",
        ssd: "256 GB",
        lcd: "14 inch FHD+ IPS",
        pricecompare: "32.490.000₫",
        pricehighlight: "5490000",
        labelonsale: "-21%"
    },
    {
        img: "./image/selling-products.webp",
        name: "Laptop LG Gram 2022 ",
        thuonghieu: "LG",
        phanloai: "oldgaming",
        cpu: "Intel Core i5",
        vga: "RTX 3050",
        ram: "16 GB",
        ssd: "256 GB",
        lcd: "14 inch FHD+ IPS",
        pricecompare: "32.490.000₫",
        pricehighlight: "25490000",
        labelonsale: "-21%"
    },
    {
        img: "./image/selling-products.webp",
        name: "Laptop ACER Gram 2023 14Z90R GAH53A5",
        thuonghieu: "ACER",
        phanloai: "oldgaming",
        cpu: "Intel Core i9",
        vga: "RTX 4060",
        ram: "16 GB",
        ssd: "256 GB",
        lcd: "14 inch FHD+ IPS",
        pricecompare: "32.490.000₫",
        pricehighlight: "25490000",
        labelonsale: "-21%"
    },
    {
        img: "./image/selling-products.webp",
        name: "Laptop ASUS TUF DASH Gram 2023 14Z90R GAH53A5",
        thuonghieu: "ASUS",
        phanloai: "oldgaming",
        cpu: "Intel Core i9",
        vga: "RTX 4080",
        ram: "16 GB",
        ssd: "256 GB",
        lcd: "14 inch FHD+ IPS",
        pricecompare: "32.490.000₫",
        pricehighlight: "25490000",
        labelonsale: "-21%"
    },
    {
        img: "./image/selling-products.webp",
        name: "Laptop LG Gram 2023 14Z90R GAH53A5",
        thuonghieu: "LG",
        phanloai: "oldvanphong",
        cpu: "Intel Core i5",
        vga: "RTX 3070 Ti",
        ram: "16 GB",
        ssd: "256 GB",
        lcd: "14 inch FHD+ IPS",
        pricecompare: "32.490.000₫",
        pricehighlight: "2490000",
        labelonsale: "-21%"
    },
    {
        img: "./image/selling-products.webp",
        name: "Laptop LG Gram 2023 14Z90R GAH53A5",
        thuonghieu: "LG",
        phanloai: "new99",
        cpu: "ADM Ryzen 5",
        vga: "RTX 3080",
        ram: "16 GB",
        ssd: "256 GB",
        lcd: "14 inch FHD+ IPS",
        pricecompare: "32.490.000₫",
        pricehighlight: "9490000",
        labelonsale: "-21%"
    }
];   
//Thêm mảng sản phẩm vào Local
localStorage.setItem('ArrayListProductss', JSON.stringify(ArrayListProductss));
//
/*Hàm gọi đến trang kết quả tìm kiếm*/ 
function handleSearchFileresult() {
    const searchTerm = document.getElementById('search').value;
    filterValue1 = searchTerm.toString();
    var filtertest1 = [];
    // Thêm giá trị vào mảng filtertest
    // Đã thêm vào local nên ẩn dòng này đi var filtertest = JSON.parse(localStorage.getItem('filtertest')) || [];
    filtertest1.push(filterValue1);
    localStorage.setItem('filtertest1', JSON.stringify(filtertest1));
    window.location.href = `testketquatimkiem.html?searchTerm=${searchTerm}`;
    return false; // Ngăn chặn việc gửi biểu mẫu
}

//Lấy giá trị mảng sản phẩm từ LocalStorage
const storedJsonStringg = localStorage.getItem('ArrayListProductss');
// Chuyển đổi chuỗi JSON thành mảng
const storedArrays = JSON.parse(storedJsonStringg);
function ListSellingProductss(storedArrays) {
    let s = '';
    for (let i = 0; i < storedArrays.length; i++) {
        const product = storedArrays[i];
        var anh = product.img;
        var thuonghieu = product.thuonghieu;
        var name = product.name;
        var cpu = product.cpu;
        var ram = product.ram;
        var ssd = product.ssd;
        var vga = product.vga;
        var lcd = product.lcd;
        var pricecompare = product.pricecompare;
        var pricehighlight = product.pricehighlight;
        var labelonsale = product.labelonsale;

        s += `
            <div class="item-show" id="item-show">
                <a href="#">
                    <img src="${anh}" width="100%"/>
                </a>
                <div class="detail">
                    <h3 class="name-product">
                        <a id="name" href="#" title="${name}" tabindex="0">${name}</a>
                    </h3>
                    <div class="technical">
                        <div class="cpu">
                            <span>${cpu}</span>
                        </div>
                        <div class="vga">
                            <span>${vga}</span>
                        </div>
                        <div class="ram">
                            <span>${ram}</span>
                        </div>
                        <div class="ssd">
                            <span>${ssd}</span>
                        </div>
                        <div class="lcd">
                            <span>${lcd}</span>
                        </div>
                    </div>
                    <div class="price">
                        <div class="price--compare">
                            <del>${pricecompare}</del>
                        </div>
                        <div class="price--default">
                            <span class="price--highlight">${pricehighlight}</span>
                            <span class="label--on-sale">${labelonsale}</span>
                        </div>
                    </div>    
                </div>
            </div>`;
    }
    document.getElementById("item-selling-products").innerHTML = s;
}

const urlParams = new URLSearchParams(window.location.search);
const searchTerm = urlParams.get('searchTerm');

function displaySearchResultMessage(searchTerm) {
    document.getElementById('search-result-message').innerText = searchTerm;
}

if (searchTerm) {
    const searchResult = storedArrays.filter(product => product.name.toLowerCase().includes(searchTerm.toLowerCase()));
    if (searchResult.length > 0) {
        ListSellingProductss(searchResult);

        // Hiển thị kết quả tìm kiếm
        document.getElementById('search-result').innerText = `Kết quả tìm kiếm cho "${searchTerm}"`;

        // Hiển thị tổng số sản phẩm
        document.getElementById('total-products-message').innerText = `Sản phẩm (${searchResult.length})`;
    } else {
        displaySearchResultMessage("Không tìm thấy kết quả phù hợp.");
    }
} else {
    ListSellingProductss(storedArrays);

    // Hiển thị tổng số sản phẩm khi không có tìm kiếm
    document.getElementById('total-products-message').innerText = `Tổng số sản phẩm: ${storedArrays.length}`;
}